# â›“ï¸ ChainOath: å»ä¸­å¿ƒåŒ–é“¾ä¸Šå¥‘çº¦å¹³å°

**ChainOath** æ˜¯ä¸€ä¸ªå®Œå…¨å»ä¸­å¿ƒåŒ–çš„ DAppï¼Œå®ƒå…è®¸ç”¨æˆ·é€šè¿‡é’±åŒ…äº¤äº’æ¥åˆ›å»ºã€ç­¾ç½²å’ŒéªŒè¯é“¾ä¸Šâ€œæ‰¿è¯ºåè®®â€ã€‚æ— è®ºæ˜¯ä¸ªäººä¹ æƒ¯å…»æˆã€å›¢é˜Ÿç›®æ ‡è¾¾æˆï¼Œè¿˜æ˜¯æœ‹å‹é—´çš„è¶£å‘³çº¦å®šï¼Œæ‰€æœ‰å¥‘çº¦çš„ç”Ÿå‘½å‘¨æœŸéƒ½ç”±æ™ºèƒ½åˆçº¦å’Œ IPFS é©±åŠ¨ï¼Œç¡®ä¿äº†è¿‡ç¨‹çš„**å¯éªŒè¯æ€§ã€ä¸å¯ç¯¡æ”¹æ€§å’Œå®Œå…¨å…¬å¼€æ€§**ã€‚

---

## ğŸ§­ ä¸€ã€é¡¹ç›®æ„¿æ™¯ä¸æ ¸å¿ƒç†å¿µ

åœ¨æ•°å­—æ—¶ä»£ï¼Œä¿¡ä»»çš„å»ºç«‹å¾€å¾€ä¾èµ–äºä¸­å¿ƒåŒ–çš„ç¬¬ä¸‰æ–¹æœºæ„ã€‚ChainOath æ—¨åœ¨æ‰“ç ´è¿™ä¸€æ¨¡å¼ï¼Œé€šè¿‡åŒºå—é“¾æŠ€æœ¯ï¼Œå°†â€œæ‰¿è¯ºâ€è¿™ä¸€ç¤¾ä¼šè¡Œä¸ºèµ‹äºˆå¯†ç å­¦ä¿éšœã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼Œå½“æ‰¿è¯ºçš„å±¥è¡Œè¿‡ç¨‹å˜å¾—é€æ˜ã€è‡ªåŠ¨ä¸”ä¸å¯å¹²é¢„æ—¶ï¼Œäººä¸äººä¹‹é—´çš„åä½œå°†è¾¾åˆ°æ–°çš„é«˜åº¦ã€‚

- **å»ä¸­å¿ƒåŒ–ä¿¡ä»»**ï¼šä»£ç å³æ³•å¾‹ï¼Œæ™ºèƒ½åˆçº¦æ˜¯å”¯ä¸€çš„ä¸­ä»‹ã€‚
- **ç”¨æˆ·ä¸»æƒ**ï¼šç”¨æˆ·é€šè¿‡é’±åŒ…å®Œå…¨æŒæ§è‡ªå·±çš„æ•°æ®å’Œèµ„äº§ã€‚
- **é€æ˜ä¸å…¬å¹³**ï¼šæ‰€æœ‰è§„åˆ™å’Œæ‰§è¡Œè¿‡ç¨‹éƒ½åœ¨é“¾ä¸Šå…¬å¼€ï¼Œå¯¹æ‰€æœ‰å‚ä¸è€…ä¸€è§†åŒä»ã€‚

---

## ğŸ§± äºŒã€æŠ€æœ¯æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶

ChainOath é‡‡ç”¨çº¯ DApp æ¶æ„ï¼Œå‰ç«¯ç›´æ¥ä¸åŒºå—é“¾å’Œå»ä¸­å¿ƒåŒ–å­˜å‚¨äº¤äº’ï¼Œæ— ä»»ä½•ä¸­å¿ƒåŒ–åç«¯æœåŠ¡å™¨ã€‚è¿™ä¿è¯äº†å¹³å°çš„æŠ—å®¡æŸ¥æ€§å’Œé«˜å¯ç”¨æ€§ã€‚

| æ¨¡å— | æŠ€æœ¯é€‰å‹ | é€‰å‹ç†ç”± |
| :--- | :--- | :--- |
| **é’±åŒ…äº¤äº’** | `WalletConnect`, `MetaMask` | è¦†ç›–æœ€å¹¿æ³›çš„ç”¨æˆ·ç¾¤ä½“ï¼Œæä¾›æ— ç¼çš„ Web3 ä½“éªŒã€‚ |
| **å‰ç«¯æ¡†æ¶** | `React` + `Vite` + `TypeScript` | ç°ä»£ã€é«˜æ•ˆçš„å¼€å‘ä½“éªŒï¼Œç±»å‹å®‰å…¨ä¿è¯ä»£ç è´¨é‡ã€‚ |
| **UI åº“** | `Tailwind CSS` | åŸå­åŒ– CSSï¼Œå¿«é€Ÿæ„å»ºç¾è§‚ã€å“åº”å¼çš„ç•Œé¢ã€‚ |
| **çŠ¶æ€ç®¡ç†** | `Zustand` | è½»é‡ã€ç®€æ´çš„å…¨å±€çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œå¯¹ React Hooks å‹å¥½ã€‚ |
| **åŒºå—é“¾äº¤äº’** | `Wagmi` + `Viem` + `Ethers.js` | `Wagmi` æä¾›äº†å¼ºå¤§çš„ React Hooksï¼Œ`Viem` è½»é‡é«˜æ•ˆï¼Œ`Ethers.js` ä½œä¸ºå¤‡ç”¨å’ŒæŸäº›å¤æ‚åœºæ™¯çš„è¡¥å……ã€‚ |
| **æ™ºèƒ½åˆçº¦** | `Solidity` + `Hardhat` | `Solidity` æ˜¯ä»¥å¤ªåŠç”Ÿæ€æ ‡å‡†ï¼Œ`Hardhat` æä¾›å¼ºå¤§çš„å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²ç¯å¢ƒã€‚ |
| **å»ä¸­å¿ƒåŒ–å­˜å‚¨** | `IPFS` (é€šè¿‡ `Web3.Storage` æˆ– `Pinata`) | å­˜å‚¨èª“çº¦è¯¦æƒ…ç­‰å¤§æ•°æ®ï¼Œé™ä½é“¾ä¸Šå­˜å‚¨æˆæœ¬ï¼Œå®ç°å†…å®¹å¯»å€ã€‚ |
| **ç›®æ ‡ç½‘ç»œ** | `Ethereum Testnet` (Sepolia) | ä¸»æµæµ‹è¯•ç½‘ç»œï¼Œæ‹¥æœ‰ä¸°å¯Œçš„å·¥å…·å’Œç”Ÿæ€æ”¯æŒã€‚ |
| **NFT å¥–åŠ± (å¯é€‰)** | `ERC-721` (é€šè¿‡ `OpenZeppelin`) | æ ‡å‡†åŒ–çš„ NFT æ¥å£ï¼Œå¯ä½œä¸ºæˆå°±è¯æ˜æˆ–ç‰¹æ®Šå¥–åŠ±ã€‚ |

---

## ğŸ“‹ ä¸‰ã€é¡µé¢ç»“æ„ä¸æ ¸å¿ƒåŠŸèƒ½

åº”ç”¨çš„æ ¸å¿ƒç”¨æˆ·æ—…ç¨‹å›´ç»•ç€â€œåˆ›å»ºâ€ã€â€œç­¾ç½²â€ã€â€œå±¥è¡Œâ€å’Œâ€œéªŒè¯â€å››ä¸ªç¯èŠ‚å±•å¼€ã€‚

### 1ï¸âƒ£ **é¦–é¡µ (`/`) - å‘ç°ä¸å…¥å£**

- **ç›®çš„**ï¼šå¸å¼•ç”¨æˆ·ï¼Œæ¸…æ™°ä¼ è¾¾äº§å“ä»·å€¼ï¼Œå¹¶æä¾›æ ¸å¿ƒæ“ä½œçš„å…¥å£ã€‚
- **æ ¸å¿ƒå…ƒç´ **ï¼š
    - **é†’ç›®çš„ Logo å’Œ Slogan**ï¼šä¾‹å¦‚ â€œChainOath: Code Your Promise, Trust the Chain.â€
    - **é¡¹ç›®ç®€ä»‹**ï¼šç”¨åŠ¨ç”»æˆ–å›¾æ–‡å½¢å¼ç”ŸåŠ¨ä»‹ç»å¹³å°å¦‚ä½•è¿ä½œã€‚
    - **`Connect Wallet` æŒ‰é’®**ï¼šé¡µé¢å³ä¸Šè§’å¸¸é©»ï¼Œä½¿ç”¨ `Wagmi` çš„ `useConnect` Hook å®ç°ã€‚
    - **æ ¸å¿ƒæ“ä½œæŒ‰é’®**ï¼š
        - `[ åˆ›å»ºæˆ‘çš„èª“çº¦ ]` -> `/create`
        - `[ æŸ¥çœ‹æˆ‘çš„èª“çº¦ ]` -> `/my-oaths` (éœ€è¿æ¥é’±åŒ…)

### 2ï¸âƒ£ **åˆ›å»ºèª“çº¦é¡µ (`/create`) - å®šä¹‰æ‰¿è¯º**

- **ç›®çš„**ï¼šå¼•å¯¼ç”¨æˆ·æ¸…æ™°ã€å®Œæ•´åœ°å®šä¹‰ä¸€ä¸ªé“¾ä¸Šå¥‘çº¦ã€‚
- **è¡¨å•ç»“æ„**ï¼š
    - **èª“çº¦æ ‡é¢˜** (å¿…å¡«): `string`
    - **èª“çº¦è¯¦æƒ…** (å¯é€‰): `string` (Markdown/å¯Œæ–‡æœ¬), ä¸Šä¼ è‡³ IPFSã€‚
    - **å‚ä¸äººåœ°å€** (è‡³å°‘ä¸€ä¸ª): `address[]`
    - **æ‰“å¡å‘¨æœŸ**: `select` (æ¯æ—¥ / æ¯å‘¨)
    - **æŒç»­æ—¶é—´**: `number` (å¤©)
    - **ä¸ªäººæŠ¼é‡‘**: `number` (ETH)
    - **å…¬å…±å¥–åŠ±æ± **: `number` (ETH, å¯é€‰)
- **æäº¤æµç¨‹**ï¼š
    1.  ç”¨æˆ·å¡«å†™è¡¨å•ï¼Œç‚¹å‡» `[ å‘èµ·èª“çº¦ ]`ã€‚
    2.  è‹¥åŒ…å«èª“çº¦è¯¦æƒ…ï¼Œå‰ç«¯å°†å…¶ä¸Šä¼ è‡³ IPFSï¼Œè·å– `CID`ã€‚
    3.  æ„é€ äº¤æ˜“ï¼Œè°ƒç”¨åˆçº¦çš„ `createOath()` æ–¹æ³•ï¼Œå¹¶é™„å¸¦æ‰€æœ‰å‚æ•°å’ŒæŠ¼é‡‘ã€‚
    4.  äº¤æ˜“æˆåŠŸåï¼Œè·³è½¬è‡³è¯¥èª“çº¦çš„è¯¦æƒ…é¡µ (`/oath/:id`)ï¼Œå¹¶æç¤ºç”¨æˆ·åˆ†äº«é“¾æ¥ç»™å…¶ä»–å‚ä¸è€…ã€‚

### 3ï¸âƒ£ **æˆ‘çš„èª“çº¦é¡µ (`/my-oaths`) - ç®¡ç†ä¸è¿½è¸ª**

- **ç›®çš„**ï¼šå±•ç¤ºç”¨æˆ·æ‰€æœ‰ç›¸å…³ï¼ˆåˆ›å»ºæˆ–å‚ä¸ï¼‰çš„èª“çº¦ï¼Œå¹¶æä¾›äº¤äº’å…¥å£ã€‚
- **æ ¸å¿ƒå…ƒç´ **ï¼š
    - **`Oath Card` åˆ—è¡¨**ï¼šæ¯ä¸ªå¡ç‰‡å±•ç¤ºèª“çº¦çš„æ ¸å¿ƒä¿¡æ¯ï¼ˆæ ‡é¢˜ã€çŠ¶æ€ã€è¿›åº¦ã€èµ·æ­¢æ—¶é—´ï¼‰ã€‚
    - **çŠ¶æ€æ ‡ç­¾**ï¼šç”¨ä¸åŒé¢œè‰²åŒºåˆ† `[ å¾…ç­¾ç½² ]`, `[ è¿›è¡Œä¸­ ]`, `[ å·²å®Œæˆ ]`, `[ å·²è¿çº¦ ]`ã€‚
    - **äº¤äº’æŒ‰é’®**ï¼š
        - `[ æŸ¥çœ‹è¯¦æƒ… ]` -> `/oath/:id`
        - `[ ç­¾ååŠ å…¥ ]` (ä»…å¯¹æœªç­¾åçš„å‚ä¸è€…æ˜¾ç¤º)
        - `[ æˆ‘è¦æ‰“å¡ ]` (åœ¨æ‰“å¡å‘¨æœŸå†…å¯ç”¨)
        - `[ é¢†å–å¥–åŠ± ]` (åœ¨å®Œæˆåå¯ç”¨)

### 4ï¸âƒ£ **èª“çº¦è¯¦æƒ…é¡µ (`/oath/:id`) - é€æ˜ä¸éªŒè¯**

- **ç›®çš„**ï¼šæä¾›å•ä¸ªèª“çº¦çš„æ‰€æœ‰è¯¦ç»†ä¿¡æ¯ï¼Œä½œä¸ºä¿¡ä»»çš„æœ€ç»ˆæ¥æºã€‚
- **æ ¸å¿ƒå…ƒç´ **ï¼š
    - **åˆçº¦åŸºç¡€ä¿¡æ¯**ï¼šåˆ›å»ºè€…ã€æ‰€æœ‰å‚ä¸äººã€å½“å‰çŠ¶æ€ã€èµ·æ­¢æ—¶é—´ã€æŠ¼é‡‘/å¥–åŠ±æ± é‡‘é¢ã€‚
    - **èª“çº¦å†…å®¹**ï¼šä» IPFS è¯»å–å¹¶å±•ç¤ºèª“çº¦è¯¦æƒ…ã€‚
    - **å‚ä¸äººçŠ¶æ€**ï¼šåˆ—è¡¨å±•ç¤ºæ¯ä¸ªå‚ä¸äººçš„ç­¾åçŠ¶æ€å’Œæ‰“å¡è®°å½•ã€‚
    - **æ—¶é—´çº¿/è¿›åº¦æ¡**ï¼šå¯è§†åŒ–å±•ç¤ºæ•´ä¸ªèª“çº¦çš„ç”Ÿå‘½å‘¨æœŸå’Œæ¯ä¸ªäººçš„æ‰“å¡è¿›åº¦ã€‚
    - **äº¤äº’æŒ‰é’®**ï¼šæ ¹æ®ç”¨æˆ·èº«ä»½å’Œåˆçº¦çŠ¶æ€ï¼ŒåŠ¨æ€æ˜¾ç¤º `[ ç­¾å ]`, `[ æ‰“å¡ ]`, `[ é¢†å–å¥–åŠ± ]` ç­‰æ“ä½œæŒ‰é’®ã€‚

---

## â›“ï¸ å››ã€æ™ºèƒ½åˆçº¦è®¾è®¡ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰

åˆçº¦æ˜¯æ•´ä¸ªå¹³å°ä¿¡ä»»çš„åŸºçŸ³ï¼Œå…¶è®¾è®¡éœ€å…¼é¡¾å®‰å…¨æ€§ã€å¯æ‰©å±•æ€§å’Œ Gas æ•ˆç‡ã€‚

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

struct Oath {
    string title;               // èª“çº¦æ ‡é¢˜
    string ipfsCID;             // å­˜å‚¨åœ¨ IPFS çš„å†…å®¹å“ˆå¸Œ
    address creator;            // åˆ›å»ºè€…
    address[] participants;     // æ‰€æœ‰å‚ä¸è€…
    mapping(address => bool) hasSigned; // ç­¾åçŠ¶æ€
    mapping(address => uint256[]) checkIns; // æ‰“å¡æ—¶é—´æˆ³è®°å½•
    uint256 interval;           // æ‰“å¡å‘¨æœŸ (ç§’)
    uint256 startTime;          // å¼€å§‹æ—¶é—´ (æ‰€æœ‰äººéƒ½ç­¾åå)
    uint256 duration;           // æŒç»­æ—¶é—´ (ç§’)
    uint256 deposit;            // å•äººæŠ¼é‡‘
    uint256 rewardPool;         // å…¬å…±å¥–åŠ±æ± 
    State state;                // åˆçº¦çŠ¶æ€
}

enum State { Pending, Active, Completed, Breached }

// ... æ ¸å¿ƒå‡½æ•°æ¥å£ ...

function createOath(
    string calldata title,
    string calldata ipfsCID,
    address[] calldata participants,
    uint256 interval,
    uint256 duration
) external payable;

function signOath(uint256 oathId) external;

function checkIn(uint256 oathId) external;

function claimReward(uint256 oathId) external;

function getOath(uint256 oathId) public view returns (Oath memory);
```

---

## ğŸ§ª äº”ã€å¼€å‘ã€æµ‹è¯•ä¸éƒ¨ç½²æµç¨‹

æˆ‘ä»¬éµå¾ªä¸“ä¸šçš„è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œåº”ç”¨ç¨³å®šæ€§ã€‚

1.  **æœ¬åœ°å¼€å‘**ï¼š
    - å¯åŠ¨ Hardhat æœ¬åœ°ç½‘ç»œ: `npx hardhat node`
    - éƒ¨ç½²åˆçº¦åˆ°æœ¬åœ°: `npx hardhat run scripts/deploy.ts --network localhost`
    - å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨: `npm run dev`
2.  **å•å…ƒæµ‹è¯•**ï¼š
    - ä½¿ç”¨ `Hardhat` + `Chai` + `Ethers.js` å¯¹åˆçº¦è¿›è¡Œå…¨é¢çš„åŠŸèƒ½å’Œå®‰å…¨æµ‹è¯•ã€‚
    - `npx hardhat test`
3.  **å‰ç«¯æµ‹è¯•**ï¼š
    - ä½¿ç”¨ `React Testing Library` + `Vitest` å¯¹æ ¸å¿ƒç»„ä»¶è¿›è¡Œå•å…ƒå’Œé›†æˆæµ‹è¯•ã€‚
    - ä½¿ç”¨ `Mock Wagmi client` æ¨¡æ‹Ÿé’±åŒ…äº¤äº’å’Œåˆçº¦è°ƒç”¨ã€‚
4.  **éƒ¨ç½²**ï¼š
    - å°†åˆçº¦éƒ¨ç½²åˆ° `Sepolia` æµ‹è¯•ç½‘ã€‚
    - å‰ç«¯åº”ç”¨é€šè¿‡ `Vercel` æˆ– `Netlify` éƒ¨ç½²ï¼Œå®ç° CI/CDã€‚

---

## âœ… å…­ã€æœªæ¥å¯æ‹“å±•æ–¹å‘

- **ç¤¾äº¤åŠŸèƒ½**ï¼šå…è®¸ç”¨æˆ·è¯„è®ºã€ç‚¹èµæˆ–â€œè§è¯â€ä»–äººçš„èª“çº¦ã€‚
- **æ¨¡æ¿å¸‚åœº**ï¼šç”¨æˆ·å¯ä»¥åˆ›å»ºå’Œåˆ†äº«å¸¸ç”¨çš„èª“çº¦æ¨¡æ¿ã€‚
- **DAO æ²»ç†**ï¼šå¼•å…¥æ²»ç†ä»£å¸ï¼Œç”±ç¤¾åŒºå†³å®šå¹³å°çš„å‘å±•æ–¹å‘å’Œå‚æ•°ã€‚
- **å¤šé“¾æ”¯æŒ**ï¼šå°† ChainOath æ‰©å±•åˆ°å…¶ä»– EVM å…¼å®¹é“¾ï¼Œå¦‚ Polygon, Arbitrum ç­‰ã€‚
